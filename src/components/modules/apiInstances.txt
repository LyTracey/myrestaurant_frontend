import axios, {AxiosResponse, InternalAxiosRequestConfig, AxiosError} from "axios";
import { externalEndpoints } from "../../data/endpoints";

const CONTROLLER = new AbortController();

const HEADERS = {    
    "Content-Type": 'multipart/form-data',
    "Authorization": `${sessionStorage.getItem("access") ?? ""}`
};

const FORMSERIALIZER = { metaTokens: false, indexes: null };

const userAPI = axios.create({
    baseURL: `${ externalEndpoints["prefix_user"]}`,
    timeout: 20000,
    formSerializer: FORMSERIALIZER,
    signal: CONTROLLER.signal,
    headers: HEADERS
});

const dataAPI = axios.create({
    headers: HEADERS,
    baseURL: `${externalEndpoints["prefix"]}`,
    timeout: 20000,
    formSerializer: FORMSERIALIZER,
    signal: CONTROLLER.signal,
});


export { dataAPI, userAPI };